# ステークホルダーの合意を得る

SLO案が有用かつ効果的であるためには、すべてのステークホルダーに合意してもらう必要があります。

* プロダクト管理者は、この閾値がユーザにとって十分に良いということに合意しなければなりません。この値を下回るパフォーマンスは許容できないほど低く、修正にエンジニアリング時間を費やす価値があります。
* エラー・バジェットを使い果たした場合、プロダクト開発者は、サービスがバジェット内に戻るまで、ユーザへのリスクを軽減するための対策を講じることに合意しなければなりません(31ページの「エラー・バジェットポリシーの設定」を参照)。
* このSLOを守ることを任されている本番環境を担当するチームは、非常に骨の折れる努力、過度なトイル、そして極度の疲労なく防御可能であることに同意しました。これらはすべてチームとサービスの長期的な健康状態にダメージを与えます。

これらポイントがすべて合意されれば、難しい部分は完了です。【6】
あなたはSLOの旅を始めました、そして、残りのステップはこの出発点から繰り返しです。

SLOを守るためには、エラー・バジェットに対する脅威が赤字に変わる前にエンジニアがタイムリーに通知を受け取るようにモニタリングとアラート([第5章](../../05_alerting-on-slos/README.md)を参照)を設定する必要があります。

## エラー・バジェット方針の設定

SLOを取得したら、SLOを使用してエラー・バジェットを導出できます。
このエラー・バジェットを使用するには、サービス予算が不足したときの対処方法をまとめたポリシーが必要です。

すべての主要なステークホルダー(プロダクトマネージャ、開発チーム、およびSRE)にエラー・バジェットポリシーの承認を得ることによって、SLOが目的に適しているかどうか良くテストすることになります。

* SREが不当な量のトイルなくしてSLOを守ることはできないとSREが感じた場合、SREは目標を緩和する主張ができます。
* 開発チームとプロダクトマネージャが、信頼性を高めるためにリソースを増やすことで機能のリリース速度が許容レベルを下回ると感じている場合も、目標を緩和することを主張できます。SLOを引き下げると、SREが対応する局面の数も少なくなります。プロダクトマネージャはこのトレードオフを理解する必要があります。
* エラー・バジェットポリシーによって誰かしらにとって問題の解決を促されるより前に、SLOによってかなりのユーザに悪い経験をもたらすとプロダクトマネージャが感じた場合、SLOは十分厳重ではない可能性があります。

3者全員がエラー・バジェットポリシーを施行することに同意しない場合は、すべてのステークホルダが満足するまでSLIとSLOを繰り返す必要があります。
どのように前に進めるか、そして意思決定をするために何が必要かを決定します。より多くのデータやリソース、あるいはSLIまたはSLOへの変更です。

エラー・バジェットの施行について我々が話をするときは、エラー・バジェットを使い果たしたら(または使い果たしそうになったら)、システムの安定性を回復するために何をすべきかということを意味します。

エラー・バジェット施行の決定を下すには、文書化された方針から始める必要があります。このポリシーは、サービスがエラー・バジェットを一定期間ですべて消費したときに実行されなければならない特定のアクションに言及し、誰がそれらを実行するかを特定すべきです。
一般的なオーナーおよびアクションには次のものが含まれるでしょう。

* 開発チームは過去4週間にわたって信頼性の問題に関連するバグを最優先します。
* システムがSLO内に収まるまで、開発チームは信頼性の問題に専念します。この責任には、外部の機能リクエストや任務を先送りできるだけの高次承認が伴います。
* 更なる機能停止のリスクを減らすために、変更して再開するのに十分なエラー・バジェットが得られるまで、プロダクション凍結によってシステムへの特定の変更を停止します。

サービスがエラー・バジェットすべてを消費することがありますが、エラー・バジェットポリシーの制定が適切であることにすべてのステークホルダが同意するわけではありません。
このような場合は、エラー・バジェットポリシーの承認ステージに戻る必要があります。

## SLOとエラー・バジェットポリシーの文書化

適切に定義されたSLOは、他のチームやステークホルダがレビューできる主だった場所に文書化すべきです。
このドキュメントには次の情報が含まれています。

* SLOの作成者、レビュアー(技術的な正しさをチェックした人)、および承認者(それが正しいSLOかどうかについてビジネス上の意思決定をした人)
* 承認日付、および次にレビューすべき日付
* 読者に背景を把握させるためのサービスの簡単な説明
* SLOの詳細：目標とSLI実装
* エラー・バジェットの計算方法と消費方法の詳細
* 数字の裏にある論理的根拠、そしてそれらが実験データに由来するのか観察データに由来するのか。SLOが完全にアドホックであっても、この事実は文書化されるべきです。そうすれば、将来その文書を読むエンジニアがアドホックデータに基づいて良くない決定を下すことはありません。

SLO文書をどのくらいの頻度でレビューするかは、SLO文化の成熟度によって異なります。
最初はSLOを頻繁に(おそらく毎月)見直すべきでしょう。
一度SLOの妥当性がより確立されれば、おそらくレビュー実施を四半期ごと、またはそれより少ない頻度に減らすことができます。

エラー・バジェットポリシーも文書化する必要があり、次の情報を含める必要があります。

* ポリシー作成者、レビュアー、承認者
* 承認日付、および次にレビューすべき日付
* 読者に背景を把握させるためのサービスの簡単な説明
* バジェット枯渇に対応してとられるべき行動
* 計算に不一致がある場合、または合意された行動が状況に適しているかどうかをフォローするための明確なエスカレーションパス
* 聞き手のエラー・バジェット経験と専門知識のレベルによっては、エラー・バジェットの概要を含めることが有益な場合があります。

SLO文書とエラー・バジェットポリシーの例については、[付録A](../../../23_appendix/examples-slo-document/README.md)を参照してください。

----------
【6】免責事項：将来、もっと難しいタスクがあるかもしれません。
